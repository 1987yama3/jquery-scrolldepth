/*!
 * jquery.scrolldepth.js | v0.2
 * Copyright (c) 2013 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
 (function(e,n,t,i){"use strict";var r={elements:[],minHeight:0,percentage:true,testing:false},l=e(n),o=[];e.scrollDepth=function(i){var c=+new Date;i=e.extend({},r,i);if(e(t).height()<i.minHeight){return}s("Percentage","Baseline");function s(n,t,r){if(!i.testing){if(typeof ga!=="undefined"){ga("send","event","Scroll Depth",n,t,1,{nonInteraction:1});if(arguments.length>2){ga("send","timing","Scroll Depth",n,r,t)}}if(typeof _gaq!=="undefined"){_gaq.push(["_trackEvent","Scroll Depth",n,t,1,true]);if(arguments.length>2){_gaq.push(["_trackTiming","Scroll Depth",n,r,t,100])}}}else{e("#console").html(n+": "+t)}}function f(e){return{"25%":parseInt(e*.25,10),"50%":parseInt(e*.5,10),"75%":parseInt(e*.75,10),"100%":e-1}}function a(n,t,i){e.each(n,function(n,r){if(e.inArray(n,o)===-1&&t>=r){s("Percentage",n,i);o.push(n)}})}function h(n,t,i){e.each(n,function(n,r){if(e.inArray(r,o)===-1&&e(r).length){if(t>=e(r).offset().top){s("Elements",r,i);o.push(r)}}})}l.on("scroll.scrollDepth",function(){var r=e(t).height(),s=n.innerHeight?n.innerHeight:l.height(),g=l.scrollTop()+s,u=f(r),p=+new Date-c;if(o.length>=4+i.elements.length){l.off("scroll.scrollDepth");return}if(i.elements){h(i.elements,g,p)}if(i.percentage){a(u,g,p)}})}})(jQuery,window,document);