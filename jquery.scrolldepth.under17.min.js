/*!
 * @preserve
 * jquery.scrolldepth.js | v0.7.1
 * Copyright (c) 2014 Rob Flaherty (@robflaherty)
 * Licensed under the MIT and GPL licenses.
 */
!function(e,n,t){"use strict";var a,r,l,o={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0},i=e(n),c=[],u=0;e.scrollDepth=function(p){function s(e){l?l({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:"Baseline",eventValue:1,eventNonInteraction:!0}):(a&&ga("send","event","Scroll Depth",e,"Baseline",1,{nonInteraction:!0}),r&&_gaq.push(["_trackEvent","Scroll Depth",e,"Baseline",1,!0]))}function h(e,n,t,o){l?(l({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventValue:1,eventNonInteraction:p.nonInteraction}),p.pixelDepth&&arguments.length>2&&t>u&&(u=t,l({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:y(t),eventValue:1,eventNonInteraction:p.nonInteraction})),p.userTiming&&arguments.length>3&&l({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventTiming:o})):(a&&(ga("send","event","Scroll Depth",e,n,1,{nonInteraction:p.nonInteraction}),p.pixelDepth&&arguments.length>2&&t>u&&(u=t,ga("send","event","Scroll Depth","Pixel Depth",y(t),1,{nonInteraction:p.nonInteraction})),p.userTiming&&arguments.length>3&&ga("send","timing","Scroll Depth",e,o,n)),r&&(_gaq.push(["_trackEvent","Scroll Depth",e,n,1,p.nonInteraction]),p.pixelDepth&&arguments.length>2&&t>u&&(u=t,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",y(t),1,p.nonInteraction])),p.userTiming&&arguments.length>3&&_gaq.push(["_trackTiming","Scroll Depth",e,o,n,100])))}function g(e){return[{key:"100%",value:e-5},{key:"90%",value:parseInt(.9*e,10)},{key:"80%",value:parseInt(.8*e,10)},{key:"70%",value:parseInt(.7*e,10)},{key:"60%",value:parseInt(.6*e,10)},{key:"50%",value:parseInt(.5*e,10)},{key:"40%",value:parseInt(.4*e,10)},{key:"30%",value:parseInt(.3*e,10)},{key:"20%",value:parseInt(.2*e,10)},{key:"10%",value:parseInt(.1*e,10)}]}function v(n,t,a){for(var r=0;r<n.length;r++){var l=n[r].key,o=n[r].value;if(t>=o)return void(-1===e.inArray(l,c)&&(h("Percentage",l,t,a),c.push(l)))}}function f(n,t,a){e.each(n,function(n,r){-1===e.inArray(r,c)&&e(r).length&&t>=e(r).offset().top&&(h("Elements",r,t,a),c.push(r))})}function y(e){return(250*Math.floor(e/250)).toString()}function D(e,n){var t,a,r,l=null,o=0,i=function(){o=new Date,l=null,r=e.apply(t,a)};return function(){var c=new Date;o||(o=c);var u=n-(c-o);return t=this,a=arguments,0>=u?(clearTimeout(l),l=null,o=c,r=e.apply(t,a)):l||(l=setTimeout(i,u)),r}}var m=+new Date;p=e.extend({},o,p),e(t).height()<p.minHeight||("function"==typeof ga&&(a=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(r=!0),"function"==typeof p.eventHandler?l=p.eventHandler:"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(l=dataLayer.push),p.percentage?s("Percentage"):p.elements&&s("Elements"),i.bind("scroll.scrollDepth",D(function(){var a=e(t).height(),r=n.innerHeight?n.innerHeight:i.height(),l=i.scrollTop()+r,o=g(a),u=+new Date-m;return c.length>=o.length+p.elements.length?void i.unbind("scroll.scrollDepth"):(p.elements&&f(p.elements,l,u),void(p.percentage&&v(o,l,u)))},500)))}}(jQuery,window,document);